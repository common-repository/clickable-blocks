(()=>{"use strict";const e=window.React,o=window.wp.i18n,t=window.wp.hooks,n=window.wp.blockEditor,l=window.wp.primitives,i=(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(l.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})),a=window.wp.components,r=window.wp.element,c=[...n.__experimentalLinkControl.DEFAULT_LINK_SETTINGS,{id:"nofollow",title:(0,o.__)("Mark as nofollow","appiapp_clickable_blocks")},{id:"usejs",title:(0,o.__)("Use JavaScript to add click event","appiapp_clickable_blocks")}],s=["core/group","core/columns","core/column"];(0,t.addFilter)("blocks.registerBlockType","appicb/add-attributes",(function(e){return s.includes(e.name)?{...e,attributes:{...e.attributes,blockLink:{type:"object",default:{url:"",opensInNewTab:!1,nofollow:!1,usejs:!1}}}}:e})),(0,t.addFilter)("editor.BlockEdit","appicb/add-inspector-controls",(function(t){return l=>{if(!s.includes(l.name))return(0,e.createElement)(t,{...l});const[p,u]=(0,r.useState)(!1),{attributes:w,setAttributes:d,isSelected:b,contentRef:k}=l,{blockLink:m}=w,[_,v]=(0,r.useState)(null);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...l}),(0,e.createElement)(n.BlockControls,{group:"parent"},(0,e.createElement)(a.ToolbarGroup,null,(0,e.createElement)(a.ToolbarButton,{icon:i,label:(0,o.__)("Edit link","appiapp_clickable_blocks"),ariale:!0,onClick:e=>{v(e.currentTarget),u(!p)}}))),p&&b&&(0,e.createElement)(a.Popover,{position:"bottom",anchor:_,onClose:()=>{}},(0,e.createElement)(n.__experimentalLinkControl,{value:m,onChange:e=>{console.log(e);const o={url:e.url,opensInNewTab:e.opensInNewTab,nofollow:e.nofollow,usejs:e.usejs};d({blockLink:o})},onRemove:()=>{d({blockLink:{url:void 0,opensInNewTab:void 0,nofollow:void 0,usejs:void 0}})},settings:c})))}}))})();